{% load static %}
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Central de Importações - Record PAP</title>
    <link rel="shortcut icon" href="{% static 'logo.png' %}" type="image/x-icon">
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="{% static 'css/custom_styles.css' %}?v=4.3">

    <style>
        body { background-color: #f8f9fc; }
        
        .hero-section {
            background: white;
            padding: 40px 20px;
            border-bottom: 1px solid #e3e6f0;
            margin-bottom: 40px;
            text-align: center;
        }
        
        .app-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
            gap: 25px;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .app-card {
            background: white;
            border-radius: 15px;
            padding: 30px 20px;
            text-align: center;
            text-decoration: none;
            color: #5a5c69;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 200px;
            border-bottom: 4px solid transparent;
        }

        .app-card:hover { transform: translateY(-8px); box-shadow: 0 12px 20px rgba(0,0,0,0.1); }

        .app-icon { font-size: 3rem; margin-bottom: 15px; }
        .app-title { font-weight: 700; font-size: 1.1rem; margin-bottom: 5px; }
        .app-desc { font-size: 0.8rem; color: #858796; font-weight: 400; }

        /* Cores específicas dos cards */
        .card-dfv { border-bottom-color: #28a745; }
        .card-dfv .app-icon { color: #28a745; }

        .card-mapa { border-bottom-color: #17a2b8; }
        .card-mapa .app-icon { color: #17a2b8; }

        .card-osab { border-bottom-color: #f6c23e; }
        .card-osab .app-icon { color: #f6c23e; }

        .card-churn { border-bottom-color: #e74a3b; }
        .card-churn .app-icon { color: #e74a3b; }

        .card-ciclo { border-bottom-color: #6f42c1; }
        .card-ciclo .app-icon { color: #6f42c1; }

        /* Novo Card: Legado */
        .card-legado { border-bottom-color: #5a5c69; }
        .card-legado .app-icon { color: #5a5c69; }

        /* Estilo do Botão Voltar no Header */
        .btn-header-voltar {
            color: #5a5c69;
            text-decoration: none;
            font-weight: 500;
            margin-right: 20px;
            padding: 8px 15px;
            border-radius: 5px;
            transition: background 0.2s;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        .btn-header-voltar:hover {
            background-color: #f0f4ff;
            color: #2e59d9;
        }
    </style>
</head>
<body>

    <header class="main-header">
        <div class="header-container">
            <a href="/"><img src="{% static 'logo.png' %}" alt="Record PAP Logo" class="logo"></a>
            
            <div class="d-flex align-items-center">
                <a href="/area-interna/" class="btn-header-voltar">
                    <i class="bi bi-arrow-left"></i> Voltar
                </a>
                
                <button class="nav-button logout-button" onclick="logout()">Sair</button>
            </div>
        </div>
    </header>

    <div class="hero-section">
        <h2 class="fw-bold text-dark">Central de Importações</h2>
        <p class="text-muted">Selecione o tipo de arquivo ou dado para processar.</p>
    </div>

    <main>
        <div class="app-grid">
            <a href="/importar-dfv/" class="app-card card-dfv">
                <i class="bi bi-file-earmark-spreadsheet-fill app-icon"></i>
                <span class="app-title">Importar DFV</span>
                <span class="app-desc">Faturamento e Vendas</span>
            </a>

            <a href="/importar-mapa/" class="app-card card-mapa">
                <i class="bi bi-map-fill app-icon"></i>
                <span class="app-title">Importar Mapa</span>
                <span class="app-desc">Atualizar KML/Viabilidade</span>
            </a>

            <a href="/salvar-osab/" class="app-card card-osab">
                <i class="bi bi-list-task app-icon"></i>
                <span class="app-title">Importar OSAB</span>
                <span class="app-desc">Ordens de Serviço</span>
            </a>

            <a href="/salvar-churn/" class="app-card card-churn">
                <i class="bi bi-person-x-fill app-icon"></i>
                <span class="app-title">Importar Churn</span>
                <span class="app-desc">Cancelamentos</span>
            </a>

            <a href="/salvar-ciclo-pagamento/" class="app-card card-ciclo">
                <i class="bi bi-calendar-range-fill app-icon"></i>
                <span class="app-title">Ciclo Pagamento</span>
                <span class="app-desc">Datas de Faturamento</span>
            </a>

            <a href="/importar-legado/" class="app-card card-legado">
                <i class="bi bi-archive-fill app-icon"></i>
                <span class="app-title">Histórico (Legado)</span>
                <span class="app-desc">Vendas Antigas</span>
            </a>
        </div>
    </main>

    <script src="{% static 'js/auth.js' %}"></script>
    <script>
        function logout() { localStorage.removeItem('accessToken'); window.location.href = '/'; }
    </script>
</body>
</html>